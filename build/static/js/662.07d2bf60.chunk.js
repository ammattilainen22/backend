"use strict";(self.webpackChunkdiary=self.webpackChunkdiary||[]).push([[662],{662:function(e,n,r){r.r(n),r.d(n,{default:function(){return d}});var t=r(165),a=r(861),s=r(439),o=r(791),u=r(372),c=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(n){var r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.Z.post("http://localhost:3001/api/login",n);case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();console.log("login");var i={login2:c,setToken:function(e){"Bearer ".concat(e)}},l=r(87),p=(r(508),r(184)),d=function(){var e=(0,o.useState)(""),n=(0,s.Z)(e,2),r=n[0],u=n[1],c=(0,o.useState)(""),d=(0,s.Z)(c,2),h=d[0],f=d[1],v=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(n){var a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,console.log("try"),console.log(r,h),e.next=6,i.login2({username:r,password:h});case 6:return a=e.sent,console.log("try2"),i.setToken(a.token),console.log("try3"),u(""),f(""),e.abrupt("return",(0,p.jsx)("div",{children:(0,p.jsx)(l.rU,{to:"/home"})}));case 15:e.prev=15,e.t0=e.catch(1),console.log("k\xe4ytt\xe4j\xe4nimi tai salasana on v\xe4\xe4r\xe4");case 18:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(n){return e.apply(this,arguments)}}();return(0,p.jsx)("div",{className:"text-center m-5-auto",children:(0,p.jsxs)("form",{onSubmit:v,children:[(0,p.jsxs)("p",{children:[(0,p.jsx)("label",{children:"Username"}),(0,p.jsx)("br",{}),(0,p.jsx)("input",{onChange:function(e){var n=e.target;return u(n.value)},type:"text",name:"username",required:!0,value:r})]}),(0,p.jsxs)("p",{children:[(0,p.jsx)("label",{children:"Password"}),(0,p.jsx)("br",{}),(0,p.jsx)("input",{onChange:function(e){var n=e.target;return f(n.value)},type:"password",name:"password",required:!0,value:h})]}),(0,p.jsx)("p",{children:(0,p.jsx)("button",{id:"sub_btn",type:"submit",children:"Login"})})]})})}}}]);
//# sourceMappingURL=662.07d2bf60.chunk.js.map